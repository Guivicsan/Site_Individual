<!DOCTYPE html>
<html lang="pt-br">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="shortcut icon" href="../public/assets/imgs/Logo.png" type="image/x-icon" />
  <title>Exercícios</title>
  <link rel="stylesheet" href="../css/dashboard-2.css">
  <script src="../js/funcoes.js"></script>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@100;200;300;400;600;700&display=swap"
    rel="stylesheet" />
  <!-- scripts do Chart.js -->
  <script type="text/javascript" src="https://www.chartjs.org/dist/2.8.0/Chart.min.js"></script>

</head>

<body onload="diaExercicio_semana(), qtdExercicio_diario(), diaRefeicoes_semana(), qtdRefecao_diario()">
  <section class="exercicio">
    <div class="barra-lateral">
      <div class="logo">
        <span>VICFIT</span><img src="../assets/imgs/Logo.png">
      </div>
      <div class="container-lateral">
        <a href="relatorio.html">
          <img src="../assets/imgs/procurar.png">
          <p>Relatório</p>
        </a>
        <a href="dashboard-2.html">
          <img src="../assets/imgs/graph.png">
          <p style="color: #f44336;">Dashboard</p>
        </a>
        <a href="exercicios.html">
          <img src="../assets/imgs/excercise.png">
          <p>Exercícios</p>
        </a>
        <a href="refeicao.html">
          <img src="../assets/imgs/dish.png">
          <p>Refeições</p>
        </a>
        <!-- <button class="btn-chart btn-pink" onclick="obterDadosGrafico(1)">Aquario 1</button> -->
      </div>
      <div class="sair" onclick="limparSessao()"><img src="../assets/imgs/log-out.png">
        <p>Sair</p>
      </div>
    </div>
    <div class="box-exerc">
      <div class="navbar-dash">
        <div class="navbar-text">
          <h1>Dashboard</h1>
        </div>
        <span id="b_usuario">usuário</span>
        <img src="../assets/imgs/user.png" alt="">
      </div>
      <div class="cards">
        <div class="container-cards">
          <div class="card-box">
            <div class="img-box">
              <img src="../assets/imgs/fitness.png">
              <br>
              <h3>Exercícios</h3>
            </div>
            <div class="card-result">
              <h2>Total diário</h2>
              <span id="span_totalDiarioExerc">0</span>
            </div>
          </div>
          <div class="card-box">
            <div class="img-box">
              <img src="../assets/imgs/refeicao.png">
              <br>
              <h3>Refeições</h3>
            </div>
            <div class="card-result">
              <h2>Total diário</h2>
              <span id="span_totalDiarioRef" style="color: #25d398;">0</span>
            </div>
          </div>
          <div class="card-box">
            <div class="card-result">
              <h2>Seja bem vindo!</h2>
              <!-- <h3>Olá, <span id="b_usuario">usuário</span>.</h3> -->
            </div>
          </div>
          <div class="chart-container">
            <canvas id="myChart"></canvas>
          </div>
          <div class="imagem"></div>
        </div>
      </div>
    </div>
    </div>
  </section>
</body>

</html>
<script src="../js/exercicios.js"></script>
<script src="../js/refeicoes.js"></script>
<script>
  b_usuario.innerHTML = sessionStorage.NOME_USUARIO;

  var segunda_feira = sessionStorage.getItem('segunda')
  var terca_feira = sessionStorage.getItem('terça')
  var quarta_feira = sessionStorage.getItem('quarta')
  var quinta_feira = sessionStorage.getItem('quinta')
  var sexta_feira = sessionStorage.getItem('sexta')
  var sabado = sessionStorage.getItem('sabado')
  var domingo = sessionStorage.getItem('domingo')

  var segunda_Ref = sessionStorage.getItem('segundaRef')
  var terca_Ref = sessionStorage.getItem('terçaRef')
  var quarta_Ref = sessionStorage.getItem('quartaRef')
  var quinta_Ref = sessionStorage.getItem('quintaRef')
  var sexta_Ref = sessionStorage.getItem('sextaRef')
  var sabado_Ref = sessionStorage.getItem('sabadoRef')
  var domingo_Ref = sessionStorage.getItem('domingoRef')

  const labels = ["Segunda", "Terça", "Quarta", "Quinta", "Sexta", "Sábado", "Domingo"];
  const data = {
    labels: labels,
    datasets: [
      {
        yAxisID: 'y-exercicios',
        label: "Exercícios",
        backgroundColor: "#f443365e",
        borderColor: "#f44336",
        borderWidth: 1,
        data: [
          segunda_feira,
          terca_feira,
          quarta_feira,
          quinta_feira,
          sexta_feira,
          sabado,
          domingo],
      },
      {
        yAxisID: 'y-refeicoes',
        label: "Refeições",
        backgroundColor: "#2bb28331",
        borderColor: "#25d398",
        borderWidth: 1,
        data: [
          segunda_Ref,
          terca_Ref,
          quarta_Ref,
          quinta_Ref,
          sexta_Ref,
          sabado_Ref,
          domingo_Ref],
      },
    ],
  };

  const config = {
    type: "bar",
    data: data,
    options: {
        plugins: {
          legend: true,
        },
                responsive: true,
                title: {
                  display: true,
                  text: 'Quantidade de exercícios e refeições realizadas'
                },
                scales: {
                    yAxes: [{
                        type: 'linear',
                        display: true,
                        position: 'left',
                        id: 'y-exercicios',
                        ticks: {
                            beginAtZero: true,
                            max: 20,
                            min: 0
                        }
                    }, {
                        type: 'linear',
                        display: false,
                        position: 'right',
                        id: 'y-refeicoes',
                        ticks: {
                            beginAtZero: true,
                            max: 20,
                            min: 0
                        },
                    }],
                },
            },
    }

  const myChart = new Chart(document.getElementById("myChart"), config);

</script>